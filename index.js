const CLICKED_BUTTON_COLOUR = "rgb(208, 208, 215)"
const NOT_CLICKED_BUTTON_COLOUR = "rgb(233, 233, 237)"

L.Polyline = L.Polyline.include({
  getDistance: function() {
    var mDistanse = 0,
    length = this._latlngs.length;
    for (var i = 1; i < length; i++) {
      mDistanse += this._latlngs[i].distanceTo(this._latlngs[i - 1]);
    }
    return mDistanse / 1000;
  }
});

var map = L.map('map').setView([49.7941, 24.0577], 13);

L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
  maxZoom: 19,
  attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
}).addTo(map);

// L.marker([49.78441, 24.05843]).addTo(map)
//   .bindPopup('Хатка.')
//   .openPopup();

const roads = {
  "start_finish-dobriachynskyi_vyyizd": [
    [50.40164, 24.23933],
    [50.40148, 24.23994],
    [50.40173, 24.24015],
    [50.40195, 24.23946],
    [50.40217, 24.23962],
    [50.40266, 24.23774],
    [50.40251, 24.23761],
    [50.40305, 24.2356],
    [50.4052, 24.23699],
    [50.40627, 24.23692],
    [50.40737, 24.23559],
  ],
  "dobriachynskyi_vyyizd-povorot_na_boriatyn": [
    [50.40737, 24.23559],
    [50.40939, 24.23553],
    [50.41025, 24.23614],
    [50.41118, 24.23766],
    [50.4123, 24.23828],
    [50.41361, 24.23951],
    [50.4173, 24.2396],
    [50.42026, 24.24056],
  ],
  "povorot_na_boriatyn-boriatynskyi_vyyizd": [
    [50.42026, 24.24056], // поворот на Борятин в Добрячині
    [50.4218, 24.2311],
    [50.42229, 24.2267],
    [50.42359, 24.22192],
    [50.4248, 24.2146],
    [50.4249, 24.2119],
    [50.4246, 24.20678],
    [50.42465, 24.20186],
    [50.42603, 24.1912],
    [50.42632, 24.18462],
    [50.42604, 24.18428],
    [50.42653, 24.18162], // виїзд на Р15 в Борятині біля цвинтаря
  ],
  "boriatynskyi_vyyizd-savchynske_perehrestia": [
    [50.42653, 24.18162], // виїзд на Р15 в Борятині біля цвинтаря
    [50.45038, 24.18842],
    [50.45149, 24.18853],
    [50.45226, 24.1884],
    [50.47359, 24.18476],
    [50.47474, 24.18446], // поворот біля Савчина
  ],
  "savchynske_perehrestia-povorot_na_savhyn": [
    [50.47474, 24.18446], // поворот біля Савчина
    [50.4749, 24.191],
    [50.4749, 24.1952],
    [50.475, 24.1987],
    [50.475, 24.2013],
    [50.4747, 24.2058],
    [50.4737, 24.2159],
    [50.4721, 24.2264],
    [50.4715, 24.2339],
    [50.4699, 24.2463],
    [50.4687, 24.25315],
    [50.46902, 24.25468],
    [50.4686, 24.257], // поворот на Савчин у Жвирці
  ],
  "povorot_na_savhyn-povorot_na_zavyshen": [
    [50.4686, 24.257], // поворот на Савчин у Жвирці
    [50.4646, 24.2559],
    [50.4628, 24.2552],
    [50.461, 24.2543],
    [50.4596, 24.2548],
    [50.4584, 24.2551],
    [50.45705, 24.25505],
    [50.45589, 24.25478],
    [50.45561, 24.25456],
    [50.45535, 24.25423],
    [50.45438, 24.25278],
    [50.45369, 24.25232],
    [50.44744, 24.24933], // поворот на Завишень з Сокальської траси
  ],
  "povorot_na_zavyshen-perehrestia_v_zavyshni": [
    [50.44744, 24.24933], // поворот на Завишень з Сокальської траси
    [50.44592, 24.26073],
    [50.44552, 24.26245], // перехрестя в Завишні
  ],
  "perehrestia_v_zavyshni-vyizd_zi_stezhky_pid_buhom": [
    [50.44552, 24.26245], // перехрестя в Завишні
    [50.44425, 24.26123],
    [50.44353, 24.26029],
    [50.44316, 24.26054],
    [50.44307, 24.26096],
    [50.44269, 24.26147],
    [50.44231, 24.26158],
    [50.43954, 24.2617],
    [50.43755, 24.26167],
    [50.43624, 24.26148],
    [50.43495, 24.26092],
    [50.43479, 24.26065],
    [50.43446, 24.26066],
    [50.4341, 24.26077],
    [50.43386, 24.26087],
    [50.43363, 24.26104],
    [50.43323, 24.26122],
    [50.43309, 24.26122],
    [50.43145, 24.26111],
    [50.43093, 24.26067],
    [50.43051, 24.26045],
    [50.43027, 24.26048],
    [50.43001, 24.26083],
    [50.42885, 24.26119],
    [50.42716, 24.26076],
    [50.42693, 24.26021],
    [50.42648, 24.25977],
    [50.42564, 24.2594],
    [50.4235, 24.25901],
    [50.42228, 24.25867],
    [50.42144, 24.25865],
    [50.42068, 24.25827],
    [50.41933, 24.25801],
    [50.41814, 24.25704],
    [50.41714, 24.25662],
    [50.41597, 24.25657],
    [50.41444, 24.25505],
    [50.41344, 24.25431],
    [50.41274, 24.25385],
    [50.41157, 24.25351],
    [50.41119, 24.25342],
    [50.40952, 24.25404],
    [50.40898, 24.25402],
    [50.40856, 24.25393],
    [50.40834, 24.25397],
    [50.40729, 24.25492],
    [50.40697, 24.25508],
    [50.40653, 24.2551],
    [50.40534, 24.25562],
    [50.40481, 24.25504],
    [50.40462, 24.25495],
    [50.40427, 24.25512],
    [50.40384, 24.25511],
    [50.40378, 24.25488],
    [50.40362, 24.25483], // виїзд на вулицю Мазепи зі стежки під Бугом
  ],
  "vyizd_zi_stezhky_pid_buhom-start_finish": [
    [50.40362, 24.25483], // виїзд на вулицю Мазепи зі стежки під Бугом
    [50.40216, 24.24775],
    [50.40203, 24.24752],
    [50.40189, 24.24743],
    [50.40152, 24.2473],
    [50.40087, 24.24656],
    [50.40135, 24.2454],
    [50.40088, 24.24316],
    [50.40107, 24.24249],
    [50.40171, 24.24019],
    [50.40148, 24.23994],
    [50.40164, 24.23933],
  ],
  "perehrestia_v_zavyshni-sokalskyi_mish_livyi_bereh": [
    [50.44552, 24.26245], // перехрестя в Завишні
    [50.44599, 24.26323],
    [50.44622, 24.26343],
    [50.44699, 24.26403],
    [50.4476, 24.26428],
    [50.44795, 24.26449],
    [50.44854, 24.265],
    [50.44994, 24.26584],
    [50.45037, 24.26592],
    [50.45114, 24.26592],
    [50.45183, 24.26574],
    [50.45291, 24.2653],
    [50.45349, 24.26369],
    [50.45363, 24.26263],
    [50.4561, 24.26333],
    [50.45958, 24.26444],
    [50.46073, 24.26486],
    [50.46155, 24.27212],
    [50.46291, 24.27158],
    [50.46436, 24.27093],
    [50.46555, 24.27032],
    [50.46632, 24.27005], // перехрестя у Жвирці перед мостом
  ],
  "sokalskyi_mish_livyi_bereh-sokal_bohdana": [
    [50.46632, 24.27005], // перехрестя у Жвирці перед мостом
    [50.46726, 24.27352],
    [50.4679, 24.27583], // перехрестя на Богдана в Сокалі
  ],
  "sokal_bohdana-sokal_ukrayinska": [
    [50.4679, 24.27583], // перехрестя на Богдана в Сокалі
    [50.46852, 24.27565],
    [50.46921, 24.27548],
    [50.4694, 24.27563],
    [50.46987, 24.27644],
    [50.47019, 24.27672],
    [50.47072, 24.27694],
    [50.471, 24.27694],
    [50.47252, 24.27673], // перехрестя Шептицького-Українська в Сокалі
  ],
  "sokal_ukrayinska-sokal_centre": [
    [50.47252, 24.27673], // перехрестя Шептицького-Українська в Сокалі
    [50.47284, 24.2767],
    [50.47403, 24.27692],
    [50.4757, 24.27732],
    [50.47618, 24.27733],
    [50.47841, 24.27723],
    [50.47945, 24.27727], // Сокаль центр біля Шевченка
  ],
  "sokal_centre-ilkovychi": [
    [50.47945, 24.27727], // Сокаль центр біля Шевченка
    [50.48097, 24.27732],
    [50.48179, 24.27723],
    [50.48261, 24.27709],
    [50.4851, 24.27649],
    [50.48674, 24.27682],
    [50.48773, 24.27694],
    [50.48822, 24.2772],
    [50.4891, 24.2784],
    [50.48952, 24.2786],
    [50.4902, 24.27879],
    [50.49128, 24.27944],
    [50.49232, 24.27992],
    [50.49652, 24.2825],
    [50.49947, 24.28434],
    [50.50069, 24.28522],
    [50.50174, 24.28612],
    [50.50292, 24.28696],
    [50.50434, 24.28839],
    [50.50586, 24.29013],
    [50.50831, 24.29308],
    [50.51093, 24.29634],
    [50.51339, 24.29947],
    [50.5178, 24.3035],
    [50.52017, 24.30574],
    [50.52397, 24.30939],
    [50.52347, 24.31475],
    [50.52358, 24.31558], // Поворот на Свитязів в Ільковичах
  ],
  "ilkovychi-skomorohy": [
    [50.52358, 24.31558], // Поворот на Свитязів в Ільковичах
    [50.5242, 24.31681],
    [50.5242, 24.31741],
    [50.52401, 24.31939],
    [50.52407, 24.32016],
    [50.52451, 24.32125],
    [50.52502, 24.32157],
    [50.52631, 24.32185],
    [50.52674, 24.3222],
    [50.52791, 24.32398],
    [50.5284, 24.32438],
    [50.53011, 24.32494],
    [50.53189, 24.32546],
    [50.53274, 24.32545],
    [50.53563, 24.32498],
    [50.53601, 24.32505],
    [50.53808, 24.32568], // Перехрестя в Скоморохах
  ],
  "skomorohy-trudoliubivka_zupynka": [
    [50.53808, 24.32568], // Перехрестя в Скоморохах
    [50.53838, 24.32407],
    [50.53842, 24.32204],
    [50.5383, 24.3209],
    [50.53809, 24.3197],
    [50.53842, 24.31785],
    [50.53837, 24.31757],
    [50.5381, 24.31685],
    [50.53811, 24.31633],
    [50.53859, 24.31543],
    [50.53894, 24.31472],
    [50.53929, 24.31372],
    [50.53931, 24.31311],
    [50.53937, 24.31293],
    [50.53955, 24.31259],
    [50.53958, 24.31172],
    [50.53973, 24.31122],
    [50.54027, 24.31063],
    [50.54067, 24.31028],
    [50.54089, 24.30985],
    [50.54099, 24.30937],
    [50.541, 24.30832],
    [50.54075, 24.30554],
    [50.54051, 24.30479],
    [50.53337, 24.2876],
    [50.53208, 24.28531],
    [50.53053, 24.28235],
    [50.52858, 24.2784],
    [50.52801, 24.27724],
    [50.52779, 24.2766],
    [50.52744, 24.27611],
    [50.52719, 24.27556],
    [50.5267, 24.27438],
    [50.52607, 24.27369],
    [50.52506, 24.27214],
    [50.5241, 24.27022],
    [50.52388, 24.26972],
    [50.52311, 24.26842],
    [50.52268, 24.26741],
    [50.52195, 24.26645],
    [50.52163, 24.2661],
    [50.52111, 24.26584],
    [50.52036, 24.26454],
    [50.51999, 24.26298],
    [50.51839, 24.26149],
    [50.51702, 24.26015],
    [50.51675, 24.25974],
    [50.51622, 24.259],
    [50.51569, 24.25861],
    [50.51518, 24.25842],
    [50.5146, 24.25839],
    [50.51422, 24.25804],
    [50.51389, 24.25733],
    [50.51376, 24.25677],
    [50.51411, 24.25453],
    [50.51429, 24.25183],
    [50.51418, 24.25141],
    [50.51396, 24.25112],
    [50.51238, 24.25071],
    [50.51222, 24.25054],
    [50.51182, 24.24957],
    [50.51126, 24.24888],
    [50.51097, 24.24865],
    [50.51036, 24.24849],
    [50.5097, 24.24855],
    [50.50912, 24.24841],
    [50.50856, 24.24824],
    [50.50784, 24.24791], // Перехрестя біля залізничної зупинки Трудолюбівка
  ],
  "trudoliubivka_zupynka-perehrestia_v_zabuzhzhi": [
    [50.50784, 24.24791], // Перехрестя біля залізничної зупинки Трудолюбівка
    [50.50598, 24.24816],
    [50.50409, 24.24821],
    [50.50326, 24.24842],
    [50.50205, 24.24932],
    [50.5018, 24.24948],
    [50.5, 24.24992],
    [50.49953, 24.25013],
    [50.49725, 24.25194],
    [50.49635, 24.25236],
    [50.49401, 24.25325],
    [50.48911, 24.25664],
    [50.48711, 24.25689], // Поворот на Опільсько в Забужжі
  ],
  "perehrestia_v_zabuzhzhi-povorot_na_boyanychi": [
    [50.48711, 24.25689], // Поворот на Опільсько в Забужжі
    [50.48775, 24.25241],
    [50.48986, 24.23246],
    [50.49014, 24.2307],
    [50.49064, 24.22877],
    [50.49126, 24.22491],
    [50.49264, 24.21485],
    [50.49291, 24.21377],
    [50.49369, 24.2121],
    [50.49435, 24.21042],
    [50.49444, 24.20981],
    [50.49422, 24.20725],
    [50.49334, 24.20458],
    [50.49259, 24.20187],
    [50.49177, 24.19818],
    [50.48903, 24.17768], // Перехрестя біля Боянич
  ],
  "boriatynskyi_vyyizd_nyzhche-boriatyn_povorot_na_rudku": [
    [50.4216, 24.17972], // Виїзд на Р15 в Борятині з вулиці Палюшинського
    [50.42162, 24.18238],
    [50.4216, 24.18285],
    [50.42151, 24.18353],
    [50.42089, 24.18632],
    [50.42088, 24.18658],
    [50.42091, 24.18755],
    [50.42088, 24.18787],
    [50.42056, 24.19045],
    [50.42017, 24.19497],
    [50.42018, 24.19523],
    [50.42025, 24.19577],
    [50.42045, 24.1967], // Поворот на Рудку в Борятині
  ],
  "boriatyn_povorot_na_rudku-harazhnyi_kooperatyv_5": [
    [50.42045, 24.1967], // Поворот на Рудку в Борятині
    [50.41739, 24.20002],
    [50.41406, 24.203],
    [50.41115, 24.20619],
    [50.40882, 24.2086],
    [50.40842, 24.20963],
    [50.40597, 24.21307],
    [50.40535, 24.21357],
    [50.40513, 24.21417],
    [50.4042, 24.21538],
    [50.40345, 24.21659],
    [50.40355, 24.21718],
    [50.40375, 24.21764],
    [50.40402, 24.21813],
    [50.40541, 24.22168],
    [50.4056, 24.222],
    [50.40579, 24.22215],
    [50.40583, 24.2224],
    [50.4059, 24.2285],
    [50.40557, 24.22858],
    [50.40555, 24.23046],
    [50.40558, 24.23122],
    [50.40564, 24.23188],
    [50.4057, 24.23288],
    [50.40568, 24.23344],
    [50.40579, 24.23575], // Поворот на гаражний кооператив №5
  ],
  "harazhnyi_kooperatyv_5-start_finish": [
    [50.40579, 24.23575], // Поворот на гаражний кооператив №5
    [50.4055, 24.2362],
    [50.40512, 24.23613],
    [50.40445, 24.23656],
    [50.4043, 24.23649],
    [50.40305, 24.2356],
    [50.40251, 24.23761],
    [50.40266, 24.23774],
    [50.40217, 24.23962],
    [50.40195, 24.23946],
    [50.40173, 24.24015],
    [50.40148, 24.23994],
    [50.40164, 24.23933],
  ],
  "start_finish-pamyatnyk_hrushevskomu": [
    [50.40164, 24.23933],
    [50.40168, 24.23917],
    [50.40129, 24.23889],
    [50.40141, 24.23843],
    [50.40116, 24.23824],
    [50.40096, 24.23795],
    [50.40089, 24.2376],
    [50.39894, 24.23632],
    [50.39883, 24.23634],
    [50.39778, 24.23566],
    [50.39766, 24.23573],
    [50.39743, 24.2356],
    [50.39572, 24.23449],
    [50.39508, 24.23409],
    [50.39386, 24.23336],
    [50.3914, 24.23386],
    [50.39012, 24.23417],
    [50.38948, 24.23657], // перехрестя біля Ромашки
  ],
  "pamyatnyk_hrushevskomu-povorot_na_bendiuhu": [
    [50.38948, 24.23657], // перехрестя біля Ромашки
    [50.38473, 24.23336],
    [50.38387, 24.23319],
    [50.38303, 24.23314],
    [50.38262, 24.23304],
    [50.38199, 24.23273], // поворот на вулицю Гоголя
  ],
  "povorot_na_bendiuhu-zastava": [
    [50.38199, 24.23273], // поворот на вулицю Гоголя
    [50.3815, 24.23247],
    [50.37657, 24.22919],
    [50.37633, 24.22891],
    [50.37612, 24.22848],
    [50.37431, 24.22513],
    [50.37403, 24.22466],
    [50.37364, 24.22425],
    [50.36999, 24.2217],
    [50.36578, 24.21971], // Кільце на Заставі
  ],
  "zastava-povorot_na_4_shahtu": [
    [50.36578, 24.21971], // Кільце на Заставі
    [50.3418, 24.2092],
    [50.34135, 24.20891],
    [50.3396, 24.2078],
    [50.3368, 24.2058],
    [50.3349, 24.2045],
    [50.33255, 24.20334], // поворот на 4 шахту в Гірнику
  ],
  "povorot_na_4_shahtu-dacha_na_6_shahti": [
    [50.33255, 24.20334], // поворот на 4 шахту в Гірнику
    [50.33245, 24.20303],
    [50.33239, 24.20276],
    [50.33439, 24.19281],
    [50.33458, 24.19237],
    [50.3404, 24.1846],
    [50.3458, 24.17735],
    [50.34606, 24.17711],
    [50.34654, 24.17702],
    [50.34726, 24.17712],
    [50.34883, 24.17749],
    [50.3508, 24.17807],
    [50.35125, 24.17787],
    [50.35169, 24.17753],
    [50.35177, 24.17721],
    [50.3514, 24.17505],
    [50.34988, 24.16706],
    [50.34965, 24.16556],
    [50.34958, 24.16366],
    [50.34966, 24.16249],
    [50.3502, 24.15846],
    [50.35033, 24.15758],
    [50.35042, 24.15635],
    [50.35044, 24.15547],
    [50.35036, 24.14969],
    [50.35027, 24.14917],
    [50.35008, 24.14895],
    [50.34992, 24.14893],
    [50.3497, 24.14902],
    [50.34923, 24.14937],
    [50.34814, 24.15012],
    [50.34782, 24.15022],
    [50.34492, 24.15019],
    [50.34006, 24.1502],
    [50.33933, 24.14971],
    [50.33896, 24.14932],
    [50.33768, 24.14682],
    [50.33749, 24.14678],
    [50.3374, 24.1469],
    [50.33707, 24.14821],
    [50.33658, 24.14969],
    [50.33653, 24.15001],
    [50.33664, 24.15019],
    [50.33798, 24.1507],
    [50.3377, 24.1538],
    [50.338, 24.154],
  ],
  "start_finish-perehrestia_za_pidvisnym_mostom": [
    [50.40164, 24.23933],
    [50.40148, 24.23994],
    [50.40171, 24.24019],
    [50.40107, 24.24249],
    [50.40088, 24.24316],
    [50.40135, 24.2454],
    [50.40087, 24.24656],
    [50.40043, 24.24744],
    [50.39773, 24.2531],
    [50.3978, 24.25324],
    [50.39766, 24.25392],
    [50.39761, 24.25391],
    [50.39743, 24.25453],
    [50.39719, 24.25438],
    [50.39703, 24.25501],
    [50.39699, 24.25517],
    [50.39694, 24.25534],
    [50.39598, 24.25472],
    [50.39517, 24.25419],
    [50.39506, 24.25444],
    [50.39477, 24.25472],
    [50.3941, 24.25505],
    [50.39366, 24.25522],
    [50.39333, 24.25518],
    [50.39299, 24.25529],
    [50.39299, 24.25541],
    [50.39265, 24.25648],
    [50.39244, 24.25753],
    [50.39233, 24.25855],
  ],
  "start_finish-bandery_koroliova": [
    [50.40164, 24.23933],
    [50.40148, 24.23994],
    [50.40171, 24.24019],
    [50.40107, 24.24249],
    [50.40088, 24.24316],
    [50.40135, 24.2454],
    [50.40087, 24.24656],
    [50.40043, 24.24744],
    [50.39773, 24.2531],
  ],
  "bandery_koroliova-perehrestia_za_pidvisnym_mostom": [
    [50.39773, 24.2531],
    [50.3978, 24.25324],
    [50.39766, 24.25392],
    [50.39761, 24.25391],
    [50.39743, 24.25453],
    [50.39719, 24.25438],
    [50.39703, 24.25501],
    [50.39699, 24.25517],
    [50.39694, 24.25534],
    [50.39598, 24.25472],
    [50.39517, 24.25419],
    [50.39506, 24.25444],
    [50.39477, 24.25472],
    [50.3941, 24.25505],
    [50.39366, 24.25522],
    [50.39333, 24.25518],
    [50.39299, 24.25529],
    [50.39299, 24.25541],
    [50.39265, 24.25648],
    [50.39244, 24.25753],
    [50.39233, 24.25855],
  ],
  "stusa_ivasiuka-perehrestia_za_pidvisnym_mostom": [
    [50.39487, 24.25122],
    [50.39425, 24.25357],
    [50.39404, 24.25429],
    [50.39333, 24.25518],
    [50.39299, 24.25529],
    [50.39299, 24.25541],
    [50.39265, 24.25648],
    [50.39244, 24.25753],
    [50.39233, 24.25855],
  ],
  "perehrestia_za_pidvisnym_mostom-povorot_na_velyke": [
    [50.39233, 24.25855],
    [50.39283, 24.25955],
    [50.39283, 24.2601],
    [50.39301, 24.26033],
    [50.39306, 24.26074],
    [50.393, 24.26104],
    [50.39282, 24.26265],
    [50.39292, 24.26327],
    [50.39306, 24.26333],
    [50.39349, 24.26428],
    [50.39453, 24.26661],
    [50.39669, 24.27144],
    [50.39853, 24.27555],
    [50.39837, 24.2759],
  ],
  "povorot_na_velyke-pozdymyr": [
    [50.39837, 24.2759],
    [50.3954, 24.2745],
    [50.3887, 24.2699],
    [50.3865, 24.276],
    [50.3902, 24.2817],
    [50.3898, 24.2824],
    [50.3893, 24.2824],
    [50.38895, 24.2827],
    [50.38821, 24.28344],
    [50.38666, 24.2845],
    [50.38641, 24.28447],
    [50.38619, 24.2843],
    [50.38535, 24.2841],
    [50.38496, 24.28421],
    [50.38447, 24.28418],
    [50.38199, 24.28845],
    [50.38221, 24.2896],
    [50.38414, 24.29227],
    [50.38407, 24.29276],
    [50.3807, 24.2988],
    [50.3804, 24.2989],
    [50.3784, 24.2962],
    [50.3785, 24.2955],
    [50.3784, 24.2945],
    [50.3777, 24.2958],
    [50.376, 24.2986],
    [50.3756, 24.2986],
    [50.3753, 24.2989],
    [50.3751, 24.2996],
    [50.3749, 24.3006],
    [50.3745, 24.3013],
    [50.3739, 24.3018],
    [50.3732, 24.302],
    [50.3725, 24.3019],
    [50.3733, 24.3036],
    [50.3738, 24.304],
    [50.3741, 24.305],
    [50.3743, 24.306],
    [50.3742, 24.3073],
    [50.3735, 24.3106],
    [50.3756, 24.3134],
    [50.3759, 24.3136],
    [50.3765, 24.3139],
    [50.3762, 24.3144],
    [50.376, 24.3145],
    [50.376, 24.3145],
    [50.3724, 24.3211],
    [50.3719, 24.3205],
    [50.371, 24.3199],
    [50.3706, 24.3195],
    [50.3704, 24.3191],
    [50.3703, 24.3186],
    [50.3699, 24.3173],
    [50.3686, 24.3162],
    [50.3679, 24.315],
    [50.3655, 24.3136],
    [50.3651, 24.3137],
    [50.3642, 24.3118],
    [50.3621, 24.311],
    [50.3599, 24.3101],
    [50.3594, 24.3101],
    [50.358, 24.3098],
    [50.3561, 24.3083],
    [50.3556, 24.3083],
    [50.3532, 24.307],
  ],
  "pozdymyr-volsvynskyi_povorot": [
    [50.3532, 24.307],
    [50.359, 24.2839],
    [50.3594, 24.2829],
  ],
  "benduizke_perehrestia-povorot_na_bendiuhu": [
    [50.37224, 24.25624],
    [50.37465, 24.25318],
    [50.3791, 24.2438],
    [50.3794, 24.2407],
    [50.38169, 24.23485],
    [50.38199, 24.23273],
  ],
  "start_finish-pamyatnyk_hrushevskomu(po_hrushevskoho)": [
    [50.40164, 24.23933],
    [50.40168, 24.23917],
    [50.40129, 24.23889],
    [50.40105, 24.23974],
    [50.40086, 24.2398],
    [50.40025, 24.23943],
    [50.40012, 24.2398],
    [50.39988, 24.23963],
    [50.39959, 24.24081],
    [50.39934, 24.24066],
    [50.39925, 24.24068],
    [50.39908, 24.2413],
    [50.39773, 24.24042],
    [50.39466, 24.23839],
    [50.39431, 24.23822],
    [50.3941, 24.23893],
    [50.39368, 24.23964],
    [50.3936, 24.23957],
    [50.39358, 24.23939],
    [50.39139, 24.23789],
    [50.38968, 24.23676],
    [50.38956, 24.23688],
    [50.38944, 24.23681],
    [50.38948, 24.23657], // перехрестя біля Ромашки
  ],
  "povorot_na_boriatyn-povorot_na_zavyshen": [
    [50.42026, 24.24056], // поворот на Борятин в Добрячині
    [50.42102, 24.24074],
    [50.42167, 24.24108],
    [50.42274, 24.24212],
    [50.42313, 24.24234],
    [50.42514, 24.24253],
    [50.42742, 24.24198],
    [50.42806, 24.24199],
    [50.42931, 24.24219],
    [50.43156, 24.24274],
    [50.43484, 24.24404],
    [50.43534, 24.24399],
    [50.43772, 24.24304],
    [50.43811, 24.24301],
    [50.43844, 24.24309],
    [50.44142, 24.2444],
    [50.44181, 24.2447],
    [50.44581, 24.2485],
    [50.44622, 24.2488],
    [50.44744, 24.24933], // поворот на Завишень
  ],
  "sokal_ukrayinska-sokal_avtovokzal": [
    [50.47252, 24.27673], // перехрестя Шептицького-Українська в Сокалі
    [50.47248, 24.27777],
    [50.47226, 24.28031],
    [50.4722, 24.28245],
    [50.47201, 24.29002],
    [50.47342, 24.29007],
    [50.47664, 24.29016],
    [50.47903, 24.29022],
  ],
  "sokal_avtovokzal-tartakiv_povorot_na_kopytiv": [
    [50.47903, 24.29022],
    [50.47879, 24.29376],
    [50.47876, 24.29564],
    [50.47877, 24.29806],
    [50.47869, 24.30152],
    [50.47852, 24.30556],
    [50.47842, 24.30679],
    [50.47792, 24.31104],
    [50.47781, 24.31174],
    [50.47699, 24.31518],
    [50.47606, 24.31907],
    [50.47596, 24.31979],
    [50.47591, 24.32092],
    [50.47585, 24.32445],
    [50.47579, 24.32729],
    [50.47352, 24.34225],
    [50.47325, 24.34377],
    [50.47224, 24.34773],
    [50.47176, 24.34916],
    [50.46962, 24.35407],
    [50.46898, 24.35617],
    [50.46883, 24.35696],
    [50.46865, 24.35805],
    [50.46838, 24.36143],
    [50.46718, 24.37353],
    [50.46541, 24.39131],
  ],
  "tartakiv_povorot_na_kopytiv-tartakiv_centre": [
    [50.46541, 24.39131],
    [50.46501, 24.39583],
    [50.46495, 24.39618],
    [50.46459, 24.39715],
    [50.4645, 24.3975],
    [50.46444, 24.39787],
    [50.46448, 24.39851],
    [50.46455, 24.39905],
    [50.46456, 24.3996],
    [50.46449, 24.40032],
    [50.4638, 24.40212],
  ],
  "tartakiv_centre-perespa_verhnie_perehrestia": [
    [50.4638, 24.40212],
    [50.46347, 24.40159],
    [50.46323, 24.40141],
    [50.46299, 24.40128],
    [50.46185, 24.40099],
    [50.46143, 24.40094],
    [50.46127, 24.401],
    [50.46107, 24.40123],
    [50.46082, 24.40156],
    [50.45684, 24.40699],
    [50.45583, 24.40871],
    [50.45488, 24.41093],
    [50.45321, 24.41038],
    [50.45112, 24.40998],
    [50.443, 24.4089],
    [50.43176, 24.40778],
    [50.43145, 24.40793],
    [50.43111, 24.40817],
    [50.41336, 24.4252],
  ],
  "perespa_verhnie_perehrestia-perespa_centre": [
    [50.41336, 24.4252],
    [50.41274, 24.4267],
    [50.41203, 24.42794],
    [50.41077, 24.42966],
    [50.40857, 24.43181],
    [50.40791, 24.43265],
    [50.40552, 24.43741],
  ],
  "perespa_centre-povorot_na_rozzhaliv": [
    [50.40552, 24.43741],
    [50.40378, 24.43623],
    [50.40307, 24.43562],
    [50.40235, 24.43462],
    [50.40189, 24.43322],
    [50.401, 24.4278],
    [50.3984, 24.41486],
  ],
  "povorot_na_rozzhaliv-komariv_vyyizd_zi_stezhky": [
    [50.3984, 24.41486],
    [50.39651, 24.40611],
    [50.39639, 24.40508],
    [50.39625, 24.40199],
    [50.39627, 24.40148],
    [50.39693, 24.39914],
    [50.39708, 24.39692],
    [50.39728, 24.39552],
    [50.39732, 24.39458],
    [50.39721, 24.39407],
    [50.39685, 24.39338],
    [50.39682, 24.39301],
    [50.39689, 24.39035],
    [50.39664, 24.38812],
    [50.39278, 24.36005],
    [50.3928, 24.35739],
    [50.3929, 24.35654],
    [50.39315, 24.35519],
    [50.39317, 24.35307],
    [50.39327, 24.35282],
    [50.39364, 24.35238],
    [50.39433, 24.35194],
    [50.39459, 24.35163],
    [50.39505, 24.35055],
    [50.39523, 24.34998],
    [50.39587, 24.34715],
    [50.39629, 24.34478],
    [50.4002, 24.32759],
    [50.40037, 24.32707],
    [50.40069, 24.32663],
    [50.40101, 24.32591],
    [50.40112, 24.3254],
    [50.40169, 24.32011],
    [50.40169, 24.31972],
    [50.40147, 24.31573],
    [50.4015, 24.31498],
    [50.40161, 24.31454],
    [50.4024, 24.3119],
    [50.40391, 24.30962],
    [50.40407, 24.30947],
    [50.40539, 24.30972],
    [50.40624, 24.3095],
    [50.40759, 24.30883],
    [50.40822, 24.30833],
    [50.40871, 24.30777],
    [50.40885, 24.30743],
    [50.41137, 24.29871],
  ],
  "komariv_vyyizd_zi_stezhky-povorot_na_komariv": [
    [50.41137, 24.29871],
    [50.41382, 24.29115],
    [50.41437, 24.29007],
    [50.41916, 24.28403],
  ],
  "povorot_na_komariv-rovesnyk": [
    [50.41916, 24.28403],
    [50.41397, 24.2845],
    [50.41346, 24.28455],
    [50.41233, 24.28472],
    [50.41097, 24.28503],
    [50.41061, 24.28509],
    [50.41015, 24.2851],
  ],
  "rovesnyk-povorot_na_velyke": [
    [50.41015, 24.2851],
    [50.40958, 24.28473],
    [50.40565, 24.27974],
    [50.40494, 24.27912],
    [50.40428, 24.2787],
    [50.39837, 24.2759],
  ],
  "volsvynskyi_povorot-volsvyn_centre": [
    [50.3594, 24.2829],
    [50.35747, 24.28224],
    [50.35624, 24.28253],
    [50.35525, 24.28246],
    [50.3519, 24.28078],
    [50.34856, 24.28144],
    [50.34613, 24.28286],
    [50.34495, 24.28298],
    [50.34322, 24.28295],
    [50.34295, 24.28314],
    [50.34201, 24.2848],
    [50.34144, 24.2852],
    [50.34011, 24.28518],
    [50.33991, 24.28509],
  ],
  "volsvyn_centre-volsvynska_stezhka": [
    [50.33991, 24.28509],
    [50.33985, 24.28482],
    [50.33993, 24.28313],
    [50.33985, 24.28234],
    [50.33974, 24.28221],
    [50.33902, 24.28159],
    [50.33876, 24.28126],
    [50.3384, 24.2805],
    [50.33771, 24.27903],
    [50.33682, 24.27771],
    [50.33635, 24.27729],
    [50.33535, 24.27683],
    [50.33395, 24.2758],
    [50.3332, 24.27398],
    [50.33275, 24.27365],
    [50.33169, 24.27295],
    [50.33004, 24.27189],
    [50.3281, 24.27078],
    [50.32226, 24.26706],
    [50.32202, 24.26663],
    [50.3219, 24.26604],
    [50.32194, 24.26559],
    [50.32292, 24.26047],
  ],
  "volsvynska_stezhka-horodysche": [
    [50.32292, 24.26047],
    [50.32318, 24.259],
    [50.32318, 24.25826],
    [50.32307, 24.25746],
    [50.32282, 24.25648],
    [50.32255, 24.25574],
    [50.32229, 24.25531],
    [50.32191, 24.25489],
    [50.31547, 24.25022],
    [50.31494, 24.24991],
    [50.31199, 24.24762],
  ],
  "horodysche-sosnivka_povorot_na_volsvyn": [
    [50.31199, 24.24762],
    [50.30599, 24.2432],
    [50.30192, 24.24021],
  ],
  "sosnivka_povorot_na_volsvyn-silets_soltysy_povorot": [
    [50.30192, 24.24021],
    [50.30418, 24.23011],
    [50.30619, 24.22001],
  ],
  "silets_soltysy_povorot-sosnivske_perehrestia": [
    [50.30619, 24.22001],
    [50.30817, 24.2102],
    [50.3088, 24.20757],
    [50.31272, 24.18871],
  ],
  "sosnivske_perehrestia-povorot_na_4_shahtu": [
    [50.31272, 24.18871],
    [50.32586, 24.19991],
    [50.32611, 24.20013],
    [50.32874, 24.20153],
    [50.33255, 24.20334],
  ],
  "stantsiya_dobrotvir-mosty_centre": [
    [50.19856, 24.35106],
    [50.19882, 24.35154],
    [50.20151, 24.35062],
    [50.2018, 24.35055],
    [50.20201, 24.35057],
    [50.20239, 24.35075],
    [50.2027, 24.35103],
    [50.20285, 24.35128],
    [50.20673, 24.35754],
    [50.20692, 24.35792],
    [50.20705, 24.35832],
    [50.20818, 24.36261],
    [50.20828, 24.36321],
    [50.20823, 24.36394],
    [50.20894, 24.36861],
    [50.20921, 24.36993],
    [50.21068, 24.37585],
    [50.21244, 24.3826],
    [50.21719, 24.37964],
    [50.21842, 24.37925],
    [50.21876, 24.37907],
    [50.21947, 24.37804],
    [50.21977, 24.37787],
    [50.22159, 24.37728],
    [50.22186, 24.37724],
    [50.22297, 24.37735],
    [50.22354, 24.37765],
    [50.22458, 24.37783],
    [50.22571, 24.37781],
    [50.22756, 24.37752],
    [50.2275, 24.37683],
    [50.22735, 24.37619],
    [50.22713, 24.37574],
    [50.2261, 24.37439],
    [50.22538, 24.37283],
    [50.22494, 24.37107],
    [50.22122, 24.35079],
    [50.22106, 24.34905],
    [50.22104, 24.34432],
    [50.22086, 24.34255],
    [50.21949, 24.33598],
    [50.2191, 24.333],
    [50.21902, 24.33059],
    [50.22028, 24.29197],
    [50.22045, 24.28932],
    [50.22336, 24.26473],
    [50.22538, 24.25165],
    [50.22561, 24.24955],
    [50.22575, 24.24662],
    [50.22626, 24.24303],
    [50.22625, 24.24253],
    [50.22564, 24.24131],
    [50.22535, 24.24039],
    [50.22511, 24.23925],
    [50.22507, 24.23843],
    [50.22531, 24.23706],
    [50.22525, 24.23669],
    [50.22468, 24.236],
    [50.22481, 24.23441],
    [50.22679, 24.2271],
    [50.22798, 24.22231],
    [50.23306, 24.19563],
    [50.23318, 24.19356],
    [50.23271, 24.17597],
    [50.23284, 24.17471],
    [50.23305, 24.17368],
    [50.23544, 24.16567],
    [50.2357, 24.16515],
    [50.23802, 24.16259],
    [50.23826, 24.16224],
    [50.23846, 24.16169],
    [50.23935, 24.1577],
    [50.2407, 24.15003],
    [50.24079, 24.14875],
    [50.24079, 24.14822],
    [50.2407, 24.14681],
    [50.24068, 24.14472],
    [50.24046, 24.1435],
    [50.24029, 24.14218],
    [50.24014, 24.13927],
    [50.24011, 24.13849],
    [50.2419, 24.13818],
    [50.24314, 24.13798],
  ],
  "mosty_centre-mosty_rozvylka": [
    [50.24314, 24.13798],
    [50.24437, 24.13742],
    [50.24462, 24.13743],
    [50.2454, 24.13778],
    [50.2457, 24.13788],
    [50.24607, 24.13783],
    [50.24682, 24.13734],
    [50.24898, 24.13637],
    [50.25074, 24.13565],
    [50.25107, 24.13564],
    [50.25123, 24.13569],
  ],
  "mosty_rozvylka-sosnivske_perehrestia": [
    [50.25123, 24.13569],
    [50.25147, 24.1358],
    [50.289, 24.16845],
    [50.31272, 24.18871],
  ],
  "stantsiya_ivanychi-skomorohy": [
    [50.63798, 24.36794],
    [50.63799, 24.36713],
    [50.63678, 24.36077],
    [50.63517, 24.36103],
    [50.63385, 24.36126],
    [50.63208, 24.36183],
    [50.63018, 24.36221],
    [50.62794, 24.36257],
    [50.62665, 24.36289],
    [50.62526, 24.36309],
    [50.62502, 24.36303],
    [50.62424, 24.36249],
    [50.62373, 24.36219],
    [50.62341, 24.36212],
    [50.62264, 24.36229],
    [50.62197, 24.36261],
    [50.62066, 24.36308],
    [50.61915, 24.36359],
    [50.61751, 24.3642],
    [50.61612, 24.3646],
    [50.61387, 24.36525],
    [50.61132, 24.36617],
    [50.61014, 24.36648],
    [50.60623, 24.36776],
    [50.60468, 24.36812],
    [50.60103, 24.3694],
    [50.58845, 24.37878],
    [50.58615, 24.38029],
    [50.58518, 24.38114],
    [50.58437, 24.38193],
    [50.58358, 24.38288],
    [50.58336, 24.38302],
    [50.58252, 24.3835],
    [50.58185, 24.38404],
    [50.58147, 24.38444],
    [50.58117, 24.38505],
    [50.58099, 24.38586],
    [50.58091, 24.38682],
    [50.58073, 24.38781],
    [50.58033, 24.38885],
    [50.58014, 24.38893],
    [50.57995, 24.38887],
    [50.57944, 24.38849],
    [50.57829, 24.38781],
    [50.57759, 24.38746],
    [50.57734, 24.38748],
    [50.57653, 24.38769],
    [50.57631, 24.38626],
    [50.57616, 24.3856],
    [50.57488, 24.38189],
    [50.57442, 24.38112],
    [50.5741, 24.3805],
    [50.57274, 24.37685],
    [50.57176, 24.3749],
    [50.57137, 24.37322],
    [50.56802, 24.36484],
    [50.56778, 24.36441],
    [50.5635, 24.35842],
    [50.55926, 24.35216],
    [50.54485, 24.33123],
    [50.54258, 24.32791],
    [50.54217, 24.32741],
    [50.54152, 24.32685],
    [50.54093, 24.32651],
    [50.53808, 24.32568]
  ],
  "sokal_bohdana-potorytsia_centre": [
    [50.4679, 24.27583],
    [50.46776, 24.27645],
    [50.46741, 24.27716],
    [50.4653, 24.28057],
    [50.46468, 24.28132],
    [50.46404, 24.28186],
    [50.46261, 24.28227],
    [50.46178, 24.28237],
    [50.46091, 24.28218],
    [50.46001, 24.28209],
    [50.45928, 24.28218],
    [50.45854, 24.28236],
    [50.45793, 24.28271],
    [50.45755, 24.28274],
    [50.45711, 24.28249],
    [50.45591, 24.28209],
    [50.45517, 24.28203],
    [50.45324, 24.28119],
    [50.45276, 24.28107],
    [50.45222, 24.28115],
  ],
  "potorytsia_centre-povorot_na_komariv": [
    [50.45222, 24.28115],
    [50.44989, 24.28231],
    [50.4495, 24.28271],
    [50.44762, 24.28514],
    [50.4472, 24.2854],
    [50.44427, 24.28603],
    [50.44067, 24.28686],
    [50.44037, 24.28682],
    [50.43994, 24.28663],
    [50.43536, 24.28291],
    [50.43462, 24.2826],
    [50.43398, 24.28256],
    [50.41943, 24.28397],
    [50.41916, 24.28403],
  ],
}

function getRoad(start, finish) {
  let road = roads[`${start}-${finish}`];
  if (road)
    return road;
  road = roads[`${finish}-${start}`];
  if (road)
    return road.slice().reverse();
}

function generateRoute(...args) {
  let route = [];
  for(let i = 1; i < args.length; i++){
    let road = getRoad(args[i - 1], args[i]);
    if (road)
      route.push(...road)
  }
  return route;
}

const routes = [generateRoute(
    "start_finish", "dobriachynskyi_vyyizd", "povorot_na_boriatyn",
    "boriatynskyi_vyyizd", "savchynske_perehrestia", "povorot_na_savhyn",
    "povorot_na_zavyshen", "perehrestia_v_zavyshni",
    "vyizd_zi_stezhky_pid_buhom", "start_finish"
  ), generateRoute(
    "start_finish", "vyizd_zi_stezhky_pid_buhom", "perehrestia_v_zavyshni",
    "sokalskyi_mish_livyi_bereh", "sokal_bohdana", "sokal_ukrayinska",
    "sokal_centre", "ilkovychi", "skomorohy", "trudoliubivka_zupynka",
    "perehrestia_v_zabuzhzhi", "povorot_na_boyanychi", "savchynske_perehrestia",
    "boriatynskyi_vyyizd", "boriatynskyi_vyyizd_nyzhche",
    "boriatyn_povorot_na_rudku", "harazhnyi_kooperatyv_5", "start_finish"
  ), generateRoute(
    "start_finish", "pamyatnyk_hrushevskomu", "povorot_na_bendiuhu",
    "zastava", "povorot_na_4_shahtu", "dacha_na_6_shahti",
    "povorot_na_4_shahtu", "zastava", "povorot_na_bendiuhu",
    "pamyatnyk_hrushevskomu", "start_finish"
  ), generateRoute(
    "start_finish", "bandery_koroliova",
    "perehrestia_za_pidvisnym_mostom",
    "povorot_na_velyke", "pozdymyr", "volsvynskyi_povorot",
    "benduizke_perehrestia", "povorot_na_bendiuhu",
  ).slice(0, -1).concat([[50.38243, 24.23485]], generateRoute(
    "povorot_na_bendiuhu", "pamyatnyk_hrushevskomu",
    "pamyatnyk_hrushevskomu(po_hrushevskoho)", "start_finish"
  ).slice(1)), generateRoute(
    "start_finish", "dobriachynskyi_vyyizd", "povorot_na_boriatyn",
    "povorot_na_zavyshen", "perehrestia_v_zavyshni",
    "sokalskyi_mish_livyi_bereh", "sokal_bohdana",
    "sokal_ukrayinska", "sokal_avtovokzal", "tartakiv_povorot_na_kopytiv",
    "tartakiv_centre", "perespa_verhnie_perehrestia",
    "perespa_centre", "povorot_na_rozzhaliv", "komariv_vyyizd_zi_stezhky",
    "povorot_na_komariv", "rovesnyk", "povorot_na_velyke",
    "perehrestia_za_pidvisnym_mostom",
    "stusa_ivasiuka", "bandery_koroliova", "start_finish"
  ), generateRoute(
    "start_finish", "pamyatnyk_hrushevskomu(po_hrushevskoho)",
    "pamyatnyk_hrushevskomu", "povorot_na_bendiuhu",
    "benduizke_perehrestia", "volsvynskyi_povorot", "volsvyn_centre",
    "volsvynska_stezhka", "horodysche", "sosnivka_povorot_na_volsvyn",
    "sosnivske_perehrestia", "povorot_na_4_shahtu", "zastava",
    "povorot_na_bendiuhu", "pamyatnyk_hrushevskomu", "start_finish"
  ), generateRoute(
    "stantsiya_dobrotvir", "mosty_centre", "mosty_rozvylka",
    "sosnivske_perehrestia", "povorot_na_4_shahtu", "zastava",
    "povorot_na_bendiuhu", "pamyatnyk_hrushevskomu",
    "pamyatnyk_hrushevskomu(po_hrushevskoho)", "start_finish"
  ), generateRoute(
    "stantsiya_ivanychi", "skomorohy", "ilkovychi", "sokal_centre",
    "sokal_ukrayinska", "sokal_bohdana", "potorytsia_centre",
    "povorot_na_komariv", "rovesnyk", "povorot_na_velyke",
    "perehrestia_za_pidvisnym_mostom", "stusa_ivasiuka", "bandery_koroliova",
    "start_finish"
  )
]

var lines = []
routes.forEach(function(route) {
  lines.push(
    L.polyline(route, {color: 'red'})
  )
})

function drawRoute(index) {
  var polyline = lines[index].addTo(map);
  var distance = Number(polyline.getDistance());
  document.getElementById("distance").innerHTML =
    `${Math.floor(distance)} км ${Math.floor(1000 * (distance.toFixed(3) - Math.floor(distance)))} м`;
  // zoom the map to the polyline
  map.fitBounds(polyline.getBounds());
}

function clearRoute(index) {
  map.removeLayer(lines[index]);
}

function getRoutes() {
  for(var i = 0; i < routes.length; i++) {
    const j = i;
    var button = document.createElement("button");
    button.className = "route";
    button.innerHTML = j + 1;
    button.onclick = function() {
      if (this.style.backgroundColor === CLICKED_BUTTON_COLOUR) {
        clearRoute(j)
        this.style.backgroundColor = NOT_CLICKED_BUTTON_COLOUR;
      } else {
        drawRoute(j)
        this.style.backgroundColor = CLICKED_BUTTON_COLOUR;
      }
    };
    button.id = "#" + j
    document.getElementById("routes").appendChild(
      button
    )
  }
}

function toggleParagraph(id) {
  document.getElementById(id).hidden = !document.getElementById(id).hidden;
}

getRoutes();
